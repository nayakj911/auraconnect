<!doctype html>
<html><head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pricing - AuraConnect</title><link rel="stylesheet" href="/css/style.css" />
</head><body>
  <nav class="navbar"><div class="container nav-inner">
    <a class="brand" href="/">AuraConnect</a>
    <div class="nav-links">
      <a data-auth="out" href="/login.html">Login</a>
      <a data-auth="out" class="btn primary" href="/signup.html">Sign Up</a>
      <a data-auth="in" class="hidden" href="/dashboard">Dashboard</a>
      <a data-auth="in" class="hidden" href="#" data-logout>Logout</a>
    </div>
  </div></nav>
  <main class="container" style="padding-top: 30px;">
    <h1>Pricing</h1>
    <div class="grid grid-3">
      <div class="card"><h3>Starter</h3><p>$9/mo</p><button class="btn primary" data-plan="starter">Subscribe</button></div>
      <div class="card"><h3>Pro</h3><p>$29/mo</p><button class="btn primary" data-plan="pro">Subscribe</button></div>
      <div class="card"><h3>Enterprise</h3><p>$99/mo</p><button class="btn primary" data-plan="enterprise">Subscribe</button></div>
    </div>
  </main>
  <script src="/js/app.js"></script>
  <script>
    (async function(){
      await window.Aura.bootNav();
      document.querySelectorAll('[data-plan]').forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          const plan = btn.getAttribute('data-plan');
          try {
            const data = await window.Aura.api('/api/subscribe', { method:'POST', body: JSON.stringify({ plan }) });
            window.Aura.toast(data.message, 'success');
          } catch(err) {
            window.Aura.toast(err.message, 'error');
            if (err.message.toLowerCase().includes('unauthorized')) setTimeout(()=> location.href='/login.html', 600);
          }
        });
      });
    })();
  </script>
</body></html>
